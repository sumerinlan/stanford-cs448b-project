<!DOCTYPE html>
<html>

<head>
    <script src='https://d3js.org/d3.v5.min.js'></script>
    <link rel='stylesheet' href='css/main.css'>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>
    <title>You Don't Know About Starbucks</title>
    <link rel="shortcut icon" href="favicon.ico" />
</head>

<body>
    <div id='intro-container' class='main section'>

        <h1>You Don't Know About Starbucks</h1>

        <p>
            Americans consume <b>400 million</b> cups of coffee per day, making the United States the leading consumer of coffee in the world. On average, <b>250 cups</b> of espresso and coffee drinks are sold per day at almost any espresso drive-thru business with a great visible location. <a href='http://www.e-importz.com/coffee-statistics.php' target='_blank'>Coffee Statistics</a> show that among coffee drinkers the average consumption in the United States is <b>3 cups</b> of coffee per day.
        </p>
        <p>
            Founded in 1971, the largest coffeehouse chain around the globe - Starbucks has successfully made itself one of the symbols of the modern American lifestyle. For quite a few people, Starbucks is their routine. They get up, get dressed, leave for work, and go to Starbucks before anything else gets done that day.
        </p>
        <p>
            Of course, they care about the <b>nutrition facts</b> of the drinks and food produced by Starbucks, which are available on its <a href='https://www.starbucks.com/menu' target='_blank'>official website</a> or mobile app. However, since not designed especially for inspecting nutrition facts, the menu is inefficient when it comes to some demands:
        </p>
        <p>
            It is difficult to search for a specific item as well as its nutritional indicators under different preparations, for example, different sizes, especially on the app. It is time-consuming to browse the nutritional information, given that the website and app require clicking and jumping to another page to read the content. On top of that, it is infeasible to make efficient comparisons between two or more products, as users have to switch items back and forth and memorize the numbers.
        </p>
        <p>
            In order to better demonstrate and analyze the nutritional information of Starbucks' drinks as well as to discover the hidden patterns behind the statistics, we have pulled out and analyzed <b>all the data of the current Starbucks menu</b> on the table. The dataset contains <b>148 unique drinks,</b> each with various size options and nutritional information, such as calories, sugars, fat, caffeine, etc.
        </p>
    </div>

    <div class='main section'>
        <h1>All about calories</h1>
    </div>

    <div id='facts-container' class='main section'>

        <!-- motivation -->
        <p>
            Now that its classic holiday beverage lineup is long gone and a handful of new springtime drinks have arrived, Starbucks currently has 148 drinks on its ever-changing menu, and infinite ways to customize them. We leverage the nutrition information a lot when we order drinks, but it is tedious to go back and forth and check out each drink. Therefore, we started our exploration with the basic question: <span class='emphasize'>Is there a more convenient way to know detailed nutritional information based on drinks?</span>
        </p>

        <h2>BASIC FACTS</h2>

        <!-- theorectical support -->
        <p>
            According to the FDA, for an average person, buying meals away from home once per week will gain you about 2 extra pounds per year. Labeling calories data on the menus help customers make healthier decisions about foods and drinks. Aimed to unveil the most valuable information with limited space, we selected two indicators that we think people care most about when they order a drink: calories and sugars.
        </p>

        <!-- design rationale -->
        <p>
            Here we displayed the full menu using an image-based visualizer, where you can easily hover a drink to see its calories and sugars data without being redirected to another page. The numbers are calculated based on the standard recipes: grande size (for most drinks) or doppio size (for espresso), and the default milk indicated in the app. These numbers are displayed in colored bars, with wider bars indicating larger amounts, for better visualization.
        </p>
        <p>
            Drinks are categorized based on the menu to help people better find drinks. To aid searching and filtering functionality, we have added a search bar to allow users to search for drinks by keywords. The full menu is long, so we also created tabs to divide the list.
        </p>

        <!-- findings -->
        <p>
            Many drinks among a sub-category share a similar trend. For example, under "Hot Coffees", americanos are low-calories, while mochas contain more calories and sugars. Also, when a drink is high in calories, the sugars contents are high.
        </p>

        <!-- instruction -->
        <p class='instruction'>
            <span class='emphasize'>Hover</span> above the drinks to inspect detailed nutrition information.
            <span class='emphasize'>Select</span> a tab to the change category.
            <span class='emphasize'>Type</span> in the search bar to filter drinks.
        </p>

        <div class='plot'>
            <div id='facts-nav'>
                <form id='facts-search'>
                    <input type='text' id='facts-keyword' onFocus='' value='' placeholder='Type a name...'>
                </form>
                <div id='facts-tabs'></div>
            </div>

            <div id='facts'></div>
        </div>

        <!-- widget displaying important details -->
        <div id='facts-widget' style='display: none;'>
            <!-- image -->
            <div id='facts-widget-img-container'>
                <img id='facts-widget-img' />
            </div>

            <!-- header: name -->
            <div>
                <p>
                    <span id='facts-widget-name'></span></br>
                    <span id='facts-widget-notes'></span>
                </p>
            </div>

            <!-- facts: calories, sugar, caffeine -->
            <div>
                <p>Calories: <span id='facts-widget-calories'></span></p>
                <!-- bar indicating calories and sugar -->
                <div class="calories-bar">
                    <div id="facts-widget-cal-bar" style="width:70%;">
                    </div>
                </div>
                <p>Sugar: <span id='facts-widget-sugars'></span></p>
                <div class="sugar-bar">
                    <div id="facts-widget-sugar-bar" style="width:70%;">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class='section'>

        <!-- motivation -->
        <p class='main'>
            It is much easier to browse the information now, but only when we have a specific drink in mind. It still takes time if we want to see what type of drinks contain higher calories to avoid, and comparisons still take effort. Also, it provides no information about customized drinks. <span class='emphasize'>Can we acquire all calorie data at a single glance?</span>
        </p>

        <h2 class='main'>Calories of drinks with different sizes</h2>

        <!-- design rationale -->
        <p class='main'>
            In the following visualization, each drink occupies a single line, with the start and end points indicating the range of calories customers can get the drink in various sizes. The exact data points are visible upon hovering. The drinks are sorted by the maximum calories value, so it is easy to see which drinks contain lower or higher calories in general. Lines are colored based on the drinksâ€™ sub-categories, and the categorizing and comparisons are more obvious if you type in the search bar and filter the drinks by their types.
        </p>

        <!-- finding -->
        <p class='main'>
            We can easily see the calories details for each type of drink. For coffees, espresso and americano contain low calories while mochas are high-calorie drinks. Teas are low-calories in general unless milks or lemonade is added. Frappuccinos are high-calorie drinks.
        </p>

        <p class='main'>
            The ranges of calories vary from drinks to drinks. The general trend is that the higher maximum calories goes, the wider the bar is. This quite makes sense: if cold brews have lower calories for their maximum size, it has less room to decrease if the size is reduced. A drink with a wider range of choices can satisfy different customer needs. If I don't care about calories, I can order a venti or even trente size, but if I care about my weight, I can have a healthier choice with the same flavor.
        </p>

        <!-- instruction -->
        <p class='instruction main'>
            Instruction: <span class='emphasize'>Hover</span> above the lines to see the exact range.
            <span class='emphasize'>Type</span> in the search bar to filter drinks.
        </p>

        <div id='calories-sort-container'></div>

    </div>

    <div id='temperature-container' class='section'>

        <!-- motivation -->
        <p class='main'>
            I know Matcha Green Tea Latte is my favorite! But every time I still need to choose whether I want to have a hot or a cold one. I wonder if there is any difference between those two, and <span class='emphasize'>in general, does hot drinks
                have higher calories than cold drinks?</span>
        </p>

        <h2 class='main'>Calories of drinks under hot / cold categories</h2>

        <!-- design rationale -->
        <p class='main'>
            We categorized the drinks based on temperature first for better comparison between hot and cold drinks. We used x-axis and colors to represent different categories. We highlighted the chosen (hovered / clicked) drink and its corresponding
            hot / cold option, if there is any, by muting the colors of other drinks.
        </p>

        <!-- instruction -->
        <p class='main instruction'>
            <span class='emphasize'>Hover</span> to highlight the current drink and its corresponding hot / cold option. <span class='emphasize'>Click</span> the bar to view calories information. <span class='emphasize'>Click</span> any empty space
            to set the graph.
        </p>

        <svg id='temp-svg' class='plot'>

            <g id='temp-svg-side'>
                <!-- name -->
                <text class='temp-svg-text' id='temp-svg-text-this'></text>
                <!-- calories bar -->
                <rect id='temp-svg-rect-this'></rect>
                <!-- calories data -->
                <text class='temp-svg-text-small' id='temp-svg-text-small-this'></text>

                <!-- name -->
                <text class='temp-svg-text-small' id='temp-svg-text-other'></text>
                <!-- calories bar -->
                <rect id='temp-svg-rect-other'></rect>
                <!-- calories data -->
                <text class='temp-svg-text-small' id='temp-svg-text-small-other'></text>

                <!-- legend -->
                <g id='temp-svg-legend'></g>
            </g>

            <g id='temp-svg-plot'>
                <g id='temp-svg-bg'></g>
                <g id='temp-svg-main'></g>
                <g id='temp-svg-axes'></g>
            </g>
        </svg>

        <!-- finding -->
        <p class='main'>
            In general, hot drinks contain higher calories than cold drinks. They are equal for some drinks with low calories already, like americano and espresso.
        </p>
    </div>

    <div id='top-drinks-container' class='section'>

        <!-- motivation -->
        <p class='main'>
            What are the most popular drinks on Starbucks' ever-changing menu? <span class='emphasize'>Do people go for high calories drinks or healthy is their top concern?</span> With the ranking data from <a
                href='https://www.thrillist.com/drink/nation/best-coffee-drinks-starbucks-menu'>www.Thrillist.com</a>, we are interested to see how these top-ranked items are distributed by calories and sugars. Similar as above, the information are
            of standard sizes.
        </p>

        <h2 class='main'>TOP RANKED DRINKS</h2>

        <!-- design rationale -->
        <p class='main'>
            To better compare the calories and sugar data betweem top drinks and other drinks, we put all drinks in the plot in light-yellow dots. The green dots are top-ranked drinks. Users can toggle them on and off to better see the full data.
        </p>

        <!-- instruction -->
        <p class='main instruction'>
            <span class='emphasize'>Toggle</span> to show or hide top-ranked items. <span class='emphasize'>Hover</span> the green dots to see drinks and their nutrition information.
        </p>

        <form class='main'>
            <input type='checkbox' id='top-drinks-checkbox' checked> Show top-ranked drinks
        </form>

        <div id='top-drinks'>
            <svg id='top-drinks-svg'>
                <g id='top-drinks-svg-plot'>
                    <g id='top-drinks-svg-other'></g>
                    <g id='top-drinks-svg-axes'></g>
                    <g id='top-drinks-svg-legend'>
                        <g id='top-drinks-svg-legend-color'></g>
                        <g id='top-drinks-svg-legend-size'></g>
                    </g>
                    <g id='top-drinks-svg-top'></g>
                </g>
            </svg>
            <div id='top-drinks-details'></div>
        </div>

        <!-- finding -->
        <p class='main'>
            From the chart we can see the positive correlation between calories and sugars. We guessed the most popular drinks are among those high-calorie high-sugar sections, but it turns out to be quite evenly distributed at the first glance.
            There are three weak clusters from the chart, and we reason three patterns of people visiting Starbucks:
        </p>

        <ul class='main'>
            <li>Some people are in favor of low-calorie and low-sugar products like cold brew, roast coffee and pure tea, for their healthy.</li>
            <li>Some standard recipes including Caffe Latte and Flat White, around ~20g sugars and ~200 calories, are popular as well. People ordering them leverage the taste and healthiness of the drinks.</li>
            <li>There are big fans of high-calories products such as Frappuccino, as shown in a cluster at the top-right corner.</li>
        </ul>
    </div>

    <div id='donut-container' class='section'>
        <h2 class='main'>Where are those calories from?</h2>

        <div class='plot'>
            <svg id='donut-drinks-dots-svg'></svg>
            <svg id='donut-drinks-donuts-svg'></svg>
            <svg id='donut-food-dots-svg'></svg>
            <svg id='donut-food-donuts-svg'></svg>
        </div>
    </div>

    <div id='food-recommender' class='section'>
        <p class='main'>
            Now we know what to drink. I started to wonder: <span class='emphasize'>What food can I choose to keep total calories intaked below 500 calories?</span>
        </p>

        <h2 class='main'>Food Recommender</h2>

        <div class='plot'>
            <div id='recommender-drink-category'></div>
            <svg id='recommender-drink-svg'>
                <g id='recommender-drink-plot'>
            </svg>
            </svg>
            <div id='recommender-drink-center'>
                <div class='recommender-single-info'>
                    <div id='recommender-drink-text'></div>
                    <div id='recommender-drink-size'></div>
                    <div id='recommender-drink-calories'></div>
                </div>
                <div class='recommender-single-info'>
                    <div id='recommender-food-text'></div>
                    <div id='recommender-food-calories'></div>
                </div>
            </div>
            <svg id='recommender-food-svg'>
                <g id='recommender-food-plot'>
            </svg>
        </div>
    </div>

    <div class='main section'>
        <h1>Calories & Caffeine</h1>
    </div>

    <div id='caffeine-container' class='section'>
        <h2 class='main'>Caffeine</h2>
        <div id='caffeine'>
            <svg id='caffeine-svg'>
                <g id='caffeine-svg-plot'>
                    <g id='caffeine-svg-other'></g>
                    <g id='caffeine-svg-axes'></g>
                    <g id='caffeine-svg-legend'>
                        <g id='caffeine-svg-legend-color'></g>
                        <g id='caffeine-svg-legend-size'></g>
                    </g>
                    <g id='caffeine-svg-top'></g>
                </g>
            </svg>
            <div id='caffeine-details'></div>
        </div>
    </div>

    <div id="calories-widget-main" style="position: absolute; padding: 5px; width: 240px; background-color: #f2f0eb; font-family: Helvetica; font-weight: 200; display: none;">

        <!-- image -->
        <div id='calories-img-container'>
            <img id='calories-widget-img' />
        </div>

        <!-- name -->
        <div>
            <p>
                <span id='calories-prod-name'></span></br>
            </p>
        </div>

        <!-- information e.g. calories -->
        <div>
            <p>Calories: <span id='calories-widget-text'></span> kcal</p>

        </div>

    </div>


    <script src='js/main.js' type='module'></script>
    <!-- line and dots -->

    <script type="module">
        import {Runtime, Library, Inspector} from "./js/runtime.js";
    import define from "./js/index.js";
    const inspect = Inspector.into("#calories-sort-container");
    const runtime = new Runtime();

    (new Runtime).module(define, name => (name === "viewof as") && inspect());
    // runtime.module(define, name => (name === "viewof sorting") && inspect());
    (new Runtime).module(define, name => (name === "chart") && inspect());

</script>

</body>

</html>
