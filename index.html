<!DOCTYPE html>
<html>

<head>
    <script src='https://d3js.org/d3.v5.min.js'></script>
    <link rel='stylesheet' href='css/main.css'>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>
    <title></title>
</head>

<body>
    <div>
        <h1>Section 0</h1>
        <div id='test'></div>
    </div>






    <div id='facts-container' class='main'>
        <h1 style="font-weight: 800;">BASIC FACTS</h1>

        <!-- motivation -->
        <p>
            We leverage the nutrition information a lot when we order drinks, so we have extracted nutrition information from <a href='https://www.starbucks.com/menu' target='_blank'>Starbucks's menu</a> and display the full menu below.
        </p>

        <!-- design rationale -->
        <p>
            Drinks are categorized based on the menu to help people better find drinks. We display information that we think people care most: calories and sugars. It is calculated based on the standard receipes: grande size for most drinks or doppio size (for espresso), and default milk for the specific drinks. We added a search bar to aid searching functionality. The full menu is long, so we created tabs to divide the list.
        </p>

        <!-- instruction -->
        <p class='instruction'>
            <span class='instruction-action'>Hover</span> drinks to see detailed information. <span class='instruction-action'>Select</span> a tab or <span class='instruction-action'>type</span> in the search bar to filter drinks.
        </p>

        <div id='facts-nav'>
            <div id='facts-tabs'></div>
            <form id='facts-search'>
                <input type='text' id='facts-keyword' onFocus='' value='' placeholder='Type a name...'>
            </form>
        </div>

        <div id='facts'></div>

        <!-- widget displaying important details -->
        <div id='facts-widget' style='display: none;'>
            <!-- image -->
            <div id='facts-widget-img-container'>
                <img id='facts-widget-img' />
            </div>

            <!-- header: name -->
            <div>
                <p>
                    <span id='facts-widget-name'></span></br>
                    <span id='facts-widget-notes'></span>
                </p>
            </div>

            <!-- facts: calories, sugar, caffeine -->
            <div>
                <p>Calories: <span id='facts-widget-calories'></span></p>
                <!-- bar indicating calories and sugar -->
                <div class="calories-bar">
                    <div id="facts-widget-cal-bar" style="width:70%;">
                        <!-- <span>70%</span> -->
                    </div>
                </div>
                <p>Sugar: <span id='facts-widget-sugars'></span></p>
                <div class="sugar-bar">
                    <div id="facts-widget-sugar-bar" style="width:70%;">
                        <!-- <span>70%</span> -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div>
        <h1>Calories of drinks when you choose different preps...</h1>

        <!-- section 2: calories inspector-->

        <svg id='extreme-calories-svg' style="width: 100%; height: 600">


        </svg>

    </div>

    <div id='top-drinks-container'>
        <h1 class='main'>TOP RANKED DRINKS</h1>

        <!-- motivation -->
        <p class='main'>
            What are the most popular drinks on Starbucks' ever-changing menu? Do people go for high calories drinks or healthy is their top concern? We are interested to see how the top-ranked items are distributed by calories and sugars. Similar as above, the information are of standard preparation. The
            ranking is from <a href='https://www.thrillist.com/drink/nation/best-coffee-drinks-starbucks-menu'>www.Thrillist.com</a>.
        </p>

        <!-- design rational -->
        <p class='main'>
            To better compare the calories and sugar data betweem top drinks and other drinks, we put all drinks in the plot. The green dots are top-ranked drinks, and the light-yellow dots are other drinks. Users can toggle on and off the top drinks to better see the full data.
        </p>

        <!-- instruction -->
        <p class='main instruction'>
            <input type='checkbox' id='top-drinks-checkbox' onclick='plotTopDrinks()' checked> <span class='instruction-action'>Toggle</span> to show or hide top-ranked items. <span class='instruction-action'>Hover</span> the green dots to see nutrition information.
        </p>

        <div id='top-drinks'>
            <svg id='top-drinks-svg'>
                <g id='top-drinks-svg-plot'>
                    <g id='top-drinks-svg-other'></g>
                    <g id='top-drinks-svg-axes'></g>
                    <g id='top-drinks-svg-top'></g>
                </g>
            </svg>
            <div id='top-drinks-details'></div>
        </div>

        <!-- finding -->
        <p class='main'>
            From the chart, we reason three patterns of people visiting Starbucks: (1) Some people are in favor of low-calorie and low-sugar products like cold brew, roast coffee and pure tea. (2) Some standard recipes including Caffe Latte and Flat White, around ~20g sugars and ~200 calories, are popular as well. (3) There are big fans of high-calories products such as   Frappuccino, as shown in a cluster at the top-right corner.
        </p>
    </div>

    <script src='js/main.js'></script>
    <!-- line and dots -->
    <script type="module">
        import define from "./js/index.js";
        import {Runtime, Library, Inspector} from "./js/runtime.js";

        const runtime = new Runtime();
        const main = runtime.module(define, Inspector.into(document.body));

</script>

<div id="calories-widget-main" style="position: absolute; padding: 5px; width: 240px; background-color: #f2f0eb; font-family: Helvetica; font-weight: 200; display: none;">

    <!-- image -->
    <div id='calories-img-container' >
        <img id='calories-widget-img' style="width: 96px; height: 96px;" />
    </div>

    <!-- name -->
    <div>
        <p>
            <span id = 'calories-prod-name'></span></br>
        </p>
    </div>

    <!-- information e.g. calories -->
    <div>
        <p>Calories: <span id='calories-widget-text'></span> kcal</p>

    </div>

</div>
</body>

</html>
