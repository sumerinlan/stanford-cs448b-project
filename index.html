<!DOCTYPE html>
<html>

<head>
    <script src='https://d3js.org/d3.v5.min.js'></script>
    <link rel='stylesheet' href='css/main.css'>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'>
    <title>You Don't Know About Starbucks</title>
    <link rel="shortcut icon" href="favicon.ico" />
</head>

<body>
    <div id='intro-container' class='main section'>

        <h1>You Don't Know About Starbucks</h1>

        <p>
            People love Starbucks. Highly ranked in drink industry, it has became part of our daily life.
        </p>

        <p>
            Nutrition facts of Starbucks' products are available in its <a href='https://www.starbucks.com/menu' target='_blank'>official website</a> or mobile app. The menu is organized by Starbucks' official categories, which makes it hard to
            search for a specific item. It is also time-consuming to browse the nutrition information because the website and mobile app also require users to click the drink to read the content. Moreover, it is hard to do comparisons between
            different products, as you have to switch drinks back and forth and memorize the numberes.
        </p>

        <p>
            To better display and analyze Starbucks' drinks, we have pulled out all the menu data on the table, which contains 148 unique drinks, each coming various sizes and nutrition information.
        </p>
    </div>

    <div id='facts-container' class='main section'>

        <!-- motivation -->
        <p>
            We leverage the nutrition information a lot when we order drinks, so we started our exploration with the basic question: <span class='emphasize'>Can I explore information based on drinks?</span>
        </p>

        <h1>BASIC FACTS</h1>

        <p>
            Here we displayed the full menu using an image-based visualizer, where you can easily hover to see a drink's calories and sugars data.
        </p>

        <!-- design rationale -->
        <p>
            Drinks are categorized based on the menu to help people better find drinks. We selected those that we think people care most: calories and sugars. It is calculated based on the standard receipes: grande size for most drinks or doppio size
            (for espresso), and default milk for the specific drinks. We added a search bar to aid searching functionality. The full menu is long, so we created tabs to divide the list.
        </p>

        <!-- instruction -->
        <p class='instruction'>
            <span class='emphasize'>Hover</span> drinks to see detailed information. <span class='emphasize'>Select</span> a tab or <span class='emphasize'>type</span> in the search bar to filter drinks.
        </p>

        <div class='plot'>
            <div id='facts-nav'>
                <div id='facts-tabs'></div>
                <form id='facts-search'>
                    <input type='text' id='facts-keyword' onFocus='' value='' placeholder='Type a name...'>
                </form>
            </div>

            <div id='facts'></div>
        </div>

        <!-- widget displaying important details -->
        <div id='facts-widget' style='display: none;'>
            <!-- image -->
            <div id='facts-widget-img-container'>
                <img id='facts-widget-img' />
            </div>

            <!-- header: name -->
            <div>
                <p>
                    <span id='facts-widget-name'></span></br>
                    <span id='facts-widget-notes'></span>
                </p>
            </div>

            <!-- facts: calories, sugar, caffeine -->
            <div>
                <p>Calories: <span id='facts-widget-calories'></span></p>
                <!-- bar indicating calories and sugar -->
                <div class="calories-bar">
                    <div id="facts-widget-cal-bar" style="width:70%;">
                    </div>
                </div>
                <p>Sugar: <span id='facts-widget-sugars'></span></p>
                <div class="sugar-bar">
                    <div id="facts-widget-sugar-bar" style="width:70%;">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class='section'>

        <!-- motivation -->
        <p class='main'>
            Now it is much easier to browse the information, but still, it takes time if I want to see which drinks contain higher calories so that I can avoid. <span class='emphasize'>Can I acquire this information based on calories?</span>
        </p>

        <h1 class='main'>Calories of drinks when you choose different sizes</h1>

        <!-- design rationale -->

        <!-- finding -->
        <p class='main'>
            We can easily see general trend for type of drinks. Coffees like Espresso and Americano and tea have low calories, and Frappuccinos are high-calorie drinks. The widths, ranges of calories based on different sizes,
            vary from drinks to drinks. A drink with a wider range of choices can satisfy different customer needs. If I don't care about calories, I can order a venti or even trente size, but if I care about my weight, I can have a healthier
            choice with the same flavor. However, this is not true for other drinks.
            <!-- 这个最终图还没出来所以很多感觉还说不清楚 -->
        </p>

        <div id='calories-sort-container'></div>

    </div>

    <div id='top-drinks-container' class='section'>

        <!-- motivation -->
        <p class='main'>
            What are the most popular drinks on Starbucks' ever-changing menu? <span class='emphasize'>Do people go for high calories drinks or healthy is their top concern?</span> With the ranking data from <a
                href='https://www.thrillist.com/drink/nation/best-coffee-drinks-starbucks-menu'>www.Thrillist.com</a>, we are interested to see how these top-ranked items are distributed by calories and sugars. Similar as above, the information are
            of standard sizes.
        </p>

        <h1 class='main'>TOP RANKED DRINKS</h1>

        <!-- design rationale -->
        <p class='main'>
            To better compare the calories and sugar data betweem top drinks and other drinks, we put all drinks in the plot in light-yellow dots. The green dots are top-ranked drinks. Users can toggle them on and off to better see the full data.
        </p>

        <!-- instruction -->
        <p class='main instruction'>
            <span class='emphasize'>Toggle</span> to show or hide top-ranked items. <span class='emphasize'>Hover</span> the green dots to see drinks and their nutrition information.
        </p>

        <form class='main'>
            <input type='radio' name='top-drinks-y' value='sugars' checked>Calories v.s. Sugars<br>
            <input type='radio' name='top-drinks-y' value='caffeine'>Calories v.s. Caffeine
        </form>

        <form class='main'>
            <input type='checkbox' id='top-drinks-checkbox' checked> Show top-ranked drinks
        </form>

        <div id='top-drinks'>
            <svg id='top-drinks-svg'>
                <g id='top-drinks-svg-plot'>
                    <g id='top-drinks-svg-other'></g>
                    <g id='top-drinks-svg-axes'></g>
                    <g id='top-drinks-svg-legend'>
                        <g id='top-drinks-svg-legend-color'></g>
                        <g id='top-drinks-svg-legend-size'></g>
                    </g>
                    <g id='top-drinks-svg-top'></g>
                </g>
            </svg>
            <div id='top-drinks-details'></div>
        </div>

        <!-- finding -->
        <p class='main'>
            From the chart we can see the positive correlation between calories and sugars. We guessed the most popular drinks are among those high-calorie high-sugar sections, but it turns out to be quite evenly distributed at the first glance.
            There are three weak clusters from the chart, and we reason three patterns of people visiting Starbucks:
        </p>

        <ul class='main'>
            <li>Some people are in favor of low-calorie and low-sugar products like cold brew, roast coffee and pure tea, for their healthy.</li>
            <li>Some standard recipes including Caffe Latte and Flat White, around ~20g sugars and ~200 calories, are popular as well. People ordering them leverage the taste and healthiness of the drinks.</li>
            <li>There are big fans of high-calories products such as Frappuccino, as shown in a cluster at the top-right corner.</li>
        </ul>
    </div>

    <div id='temperature-container' class='section'>

        <!-- motivation -->
        <p class='main'>
            I know Matcha Green Tea Latte is my favorite! But every time I still need to choose whether I want to have a hot or a cold one. I wonder if there is any difference between those two, and <span class='emphasize'>in general, does hot drinks
                have higher calories than cold drinks?</span>
        </p>

        <h1 class='main'>Calories of drinks under hot / cold categories</h1>

        <!-- design rationale -->
        <p class='main'>
            We categorized the drinks based on temperature first for better comparison between hot and cold drinks. We used x-axis and colors to represent different categories. We highlighted the chosen (hovered / clicked) drink and its corresponding
            hot / cold option, if there is any, by muting the colors of other drinks.
        </p>

        <!-- instruction -->
        <p class='main instruction'>
            <span class='emphasize'>Hover</span> to highlight the current drink and its corresponding hot / cold option. <span class='emphasize'>Click</span> the bar to view calories information. <span class='emphasize'>Click</span> any empty space
            to set the graph.
        </p>

        <svg id='temp-svg' class='plot'>

            <g id='temp-svg-side'>
                <!-- name -->
                <text class='temp-svg-text' id='temp-svg-text-this'></text>
                <!-- calories bar -->
                <rect id='temp-svg-rect-this'></rect>
                <!-- calories data -->
                <text class='temp-svg-text-small' id='temp-svg-text-small-this'></text>

                <!-- name -->
                <text class='temp-svg-text-small' id='temp-svg-text-other'></text>
                <!-- calories bar -->
                <rect id='temp-svg-rect-other'></rect>
                <!-- calories data -->
                <text class='temp-svg-text-small' id='temp-svg-text-small-other'></text>

                <!-- legend -->
                <g id='temp-svg-legend'></g>
            </g>

            <g id='temp-svg-plot'>
                <g id='temp-svg-bg'></g>
                <g id='temp-svg-main'></g>
                <g id='temp-svg-axes'></g>
            </g>
        </svg>

        <!-- finding -->
        <p class='main'>
            In general, hot drinks contain higher calories than cold drinks. They are equal for some drinks with low calories already, like americano and espresso.
        </p>
    </div>

    <div id='food-recommender' class='section'>
        <p class='main'>
            Now we know what to drink. I started to wonder: <span class='emphasize'>What food can I choose to keep total calories intaked below 500 calories?</span>
        </p>

        <h1 class='main'>Food Recommender</h1>

        <div class='plot'>
            <div id='recommender-drink-category'></div>
            <svg id='recommender-drink-svg'>
                <g id='recommender-drink-plot'>
            </svg>
            </svg>
            <div id='recommender-drink-center'>
                <div class='recommender-single-info'>
                    <div id='recommender-drink-text'></div>
                    <div id='recommender-drink-size'></div>
                    <div id='recommender-drink-calories'></div>
                </div>
                <div class='recommender-single-info'>
                    <div id='recommender-food-text'></div>
                    <div id='recommender-food-calories'></div>
                </div>
            </div>
            <svg id='recommender-food-svg'>
                <g id='recommender-food-plot'>
            </svg>
        </div>
    </div>


    <div id="calories-widget-main" style="position: absolute; padding: 5px; width: 240px; background-color: #f2f0eb; font-family: Helvetica; font-weight: 200; display: none;">

        <!-- image -->
        <div id='calories-img-container'>
            <img id='calories-widget-img' />
        </div>

        <!-- name -->
        <div>
            <p>
                <span id='calories-prod-name'></span></br>
            </p>
        </div>

        <!-- information e.g. calories -->
        <div>
            <p>Calories: <span id='calories-widget-text'></span> kcal</p>

        </div>

</div>


<script src='js/main.js' type='module'></script>
<!-- line and dots -->

<script type="module">
    import {Runtime, Library, Inspector} from "./js/runtime.js";
    import define from "./js/index.js";
    const inspect = Inspector.into("#calories-sort-container");
    const runtime = new Runtime();
    // runtime.module(define, name => (name === "viewof f1") && inspect());
    (new Runtime).module(define, name => (name === "viewof as") && inspect());
    runtime.module(define, name => (name === "viewof sorting") && inspect());
    // runtime.module(define, name => (name === "chart") && inspect());



    (new Runtime).module(define, name => (name === "chart") && inspect());

    // const main = runtime.module(define, Inspector.into("#calories-sort-container"));

</script>

</body>

</html>
